{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","onChange","value","PersonForm","newName","newNumber","onNameChange","onNumberChange","handleSubmit","type","onClick","Person","person","removePerson","name","number","Persons","persons","toUpperCase","includes","map","key","baseUrl","axios","get","then","response","data","personObject","post","id","delete","put","Notification","error","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setFilter","noteficationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","event","target","preventDefault","window","confirm","personToUpdate","find","Error","setTimeout","catch","concat","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.52d82dec.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, onChange }) => {\n  return (\n    <div>\n      Filter shown numbers: \n      <input value={filter} onChange={onChange} />\n    </div>\n  )\n}\n\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (\n  { newName, newNumber, onNameChange, onNumberChange, handleSubmit }) => {\n  \n  return (\n    <form>\n      <div>\n        name: <input value={newName} onChange={onNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={onNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={handleSubmit}>add</button>\n      </div>\n    </form>\n  )\n}\n\n\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <div>\n      {person.name} {person.number} \n      <button onClick={() => removePerson(person)}>delete</button>\n    </div>\n  )\n}\n\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filter, removePerson }) => {\n  return (\n    <div>\n      {persons.filter(person =>\n        person.name.toUpperCase().includes(filter.toUpperCase())  \n      ).map(person =>\n        <Person key={person.name} person={person} \n        removePerson={removePerson}/>\n      )}\n    </div>\n  )\n}\n\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (personObject) => {\n  const request = axios.post(baseUrl, personObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, personObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, personObject)\n  return request.then(response => response.data)\n}\n\n\n\nexport default {getAll, create, remove, update}","import React from 'react'\n\nconst Notification = ({ error, message }) => {\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  const errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10    \n  }\n\n  if (message === null) {\n    return null\n  }\n  if (error === true) {\n    return (\n      <div style={errorStyle}>\n        {message}\n      </div>\n    )\n  }\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [noteficationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const handleNameInputChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInputChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleAddingPerson = (event) => {\n    event.preventDefault()\n    const names = persons.map(person => person.name)\n    if (names.includes(newName)) {\n      //update existing person\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const personToUpdate = persons.find(person => \n          person.name === newName\n        )\n        personService\n          .update(\n            personToUpdate.id, \n            {...personToUpdate, number: newNumber}\n          )\n          .then(response => {\n            if (!response) {\n              throw Error\n            }\n            setPersons(persons.map(person => \n              person.id === personToUpdate.id\n              ? response : person\n              )\n            )\n            setNotificationMessage(`Updated number for ${newName}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)           \n          })\n          .catch(error => {\n            setErrorMessage(`${newName} has already been removed`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(person => person.id !== personToUpdate.id ))\n          })\n      }\n    } else {\n      //add new person\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNotificationMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000);\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (personToRemove) => {\n    if (window.confirm(`Remove ${personToRemove.name} from phonebook?`)) {\n    personService\n      .remove(personToRemove.id)\n      .then(response => {\n        setPersons(\n          persons.filter(person => person.id !== personToRemove.id)\n        )\n        setNotificationMessage(`Removed ${personToRemove.name}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setPersons(persons.filter(person => person.id !== personToRemove.id))\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification \n        message={noteficationMessage} \n        error={false}\n      />\n      <Notification \n        message={errorMessage}\n        error={true}\n      />\n      <Filter filter={filter} onChange={handleFilterChange}/>\n\n      <h2>Add a new number</h2>\n      <PersonForm newName={newName} newNumber={newNumber}\n        onNameChange={handleNameInputChange} \n        onNumberChange={handleNumberInputChange}\n        handleSubmit={handleAddingPerson}/>\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} \n      removePerson={removePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}